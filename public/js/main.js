function filters_button_mobile(){$(".filters .catalog-filters__header .button").click(function(){$(this).hasClass("active")?($(".filters #filters_list").css("max-height","0"),$(this).removeClass("active")):($(".filters #filters_list").css("max-height","none"),$(this).addClass("active"))})}function preset_button_catalog(){$(".catalog-page--header .presets a").click(function(){$(this).hasClass("current")||($(".catalog-page--header .presets a.current").removeClass("current"),$(this).addClass("current"))})}function view_mode_catalog(){$(".content.catalog-page .click-filters .position a").click(function(){$(this).hasClass("active")||($(".content.catalog-page .click-filters .position a.active").removeClass("active"),$(".content.catalog-page .product-items").attr("class","product-items "+$(this).attr("class")),"multi-colons"!=$(this).attr("class")?$(".content.catalog-page .product-items").find(".product-item").each(function(){$(this).css("height","auto"),$(this).css("height",$(this).css("height"))}):($(".content.catalog-page .product-items").find(".product-item").each(function(){$(this).css("height","auto")}),product_items_fix_jump()),$(this).addClass("active"))})}function sort_mode_catalog(){$(".content.catalog-page .click-filters .sort a").click(function(){$(this).hasClass("active")||($(".content.catalog-page .click-filters .sort a.active").removeClass("active"),$(this).addClass("active"))})}function menu_all_products(){$(".header .all-product > a").click(function(){$(".header .all-product").hasClass("active")?($(".header .all-product .menu").css("max-height","0"),$(".header .all-product .fon").css("display","none"),$("html").css("overflow-y","auto"),$(".header .all-product").removeClass("active")):($(".header .all-product .menu").css("max-height","none"),$(".header .all-product .fon").css("display","block"),$("html").css("overflow-y","hidden"),$(".header .all-product").addClass("active"),$(document).mouseup(function(e){var t=$(".header .all-product .menu");t.is(e.target)||0!==t.has(e.target).length||($(".header .all-product .menu").css("max-height","0"),$(".header .all-product .fon").css("display","none"),$("html").css("overflow-y","auto"),$(".header .all-product").removeClass("active"))}))}),$(".header .all-product .menu .title .close").click(function(){$(".header .all-product").hasClass("active")&&($(".header .all-product .menu").css("max-height","0"),$(".header .all-product .fon").css("display","none"),$("html").css("overflow-y","auto"),$(".header .all-product").removeClass("active"))}),$(".header .all-product .menu ul li .submenu").click(function(){$(".header .all-product .menu  ul li").parent("li ul").parent().css("position","initial"),$(this).parent("li").find("ul").css("display","flex"),$(this).parent("li").find(".subtitle").css("display","flex"),$(this).parent("li").find("ul").css("top",$(this).parent("li").find(".subtitle").css("height"))}),$(".header .all-product .menu ul li .subtitle .close").click(function(){$(".header .all-product .menu  ul li").parent("li ul").parent().css("position","relative"),$(".header .all-product .menu .title .close").trigger("click")}),$(".header .all-product .menu ul li .subtitle .down").click(function(){$(".header .all-product .menu  ul li").parent("li ul").parent().css("position","relative"),$(this).parent().parent().find("ul").css("display","none"),$(this).parent(".subtitle").css("display","none")})}function menu_gamburger(){$(".header .top-menu .gamburger").click(function(){$(".header .top-menu").hasClass("active")||($(".header .top-menu nav").css("display","flex"),$(".header .top-menu nav").css("overflow","auto"),$("html").css("overflow","hidden"),$(".header .top-menu").addClass("active"))}),$(".header .top-menu nav .close .button").click(function(){$(".header .top-menu").hasClass("active")&&($(".header .top-menu nav").css("display","none"),$("html").css("overflow-y","auto"),$(".header .top-menu").removeClass("active"))}),$(".header .top-menu nav ul li .submenu").click(function(){$(this).parent("li").find("ul").css("display","flex"),$(this).parent("li").find(".subtitle").css("display","flex"),$(this).parent("li").find("ul").css("top",$(this).parent("li").find(".subtitle").css("height"))}),$(".header .top-menu nav ul li .subtitle .close").click(function(){$(".header .top-menu nav .close .button").trigger("click")}),$(".header .top-menu nav ul li .subtitle .down").click(function(){$(this).parent().parent().find("ul").css("display","none"),$(this).parent(".subtitle").css("display","none")})}function show_search_form(){var e=$(".header .search");e.find(".img").click(function(){e.hasClass("active")||(e.addClass("active"),e.find(".input").focus(),$(document).mouseup(function(t){0===e.has(t.target).length&&e.removeClass("active")}))})}function catalog_accordion_button(){$(".catalog .accordion").click(function(){var e=$(this).next();$(this).hasClass("active")?($(this).removeClass("active"),e.hasClass("content-accordion")&&e.css("display","none")):($(this).addClass("active"),e.hasClass("content-accordion")&&e.css("display","flex"))})}function catalog_accordion_remove_excess_button(){$(".catalog #filters_list").find(".accordion").each(function(){$(this).next().hasClass("content-accordion")||$(this).addClass("empty")})}function cart_button(){var e=$(".header .cart"),t=e.find(".cart-content");t.css("display","none"),e.on("click",".icon",function(){t=e.find(".cart-content"),e.hasClass("active")?($("html").css("overflow-y","auto"),t.css("display","none"),e.removeClass("active")):(t.show().css("overflow","auto"),$("html").css("overflow","hidden"),e.addClass("active"))}),e.on("click",".title .close",function(){t.css("display","none"),$("html").css("overflow","auto"),e.removeClass("active")}),e.on("click",".cart-content__footer .continue",function(){t.css("display","none"),$("html").css("overflow","auto"),e.removeClass("active")})}function cart_change_value(){var e=$(".header .cart"),t=$(".cart .cart-content");$(".cart .icon");e.on("click",".cart-content .item .text .amount .plus",function(){var e=$(this).parent().find(".value"),t=parseFloat(e.text());e.text(t+1),cart_amount_items(),cart_all_sum()}),t.find(".item .text .amount .minus").click(function(){var e=$(this).parent().find(".value"),t=parseFloat(e.text());1==t?$(this).parent().parent().find(".close").trigger("click"):e.text(t-1),cart_amount_items(),cart_all_sum()})}function cart_remove_item(){$(".cart .cart-content .item .text .close").click(function(){$(this).parent().parent().remove(),0==$(".header .cart .cart-content .item").length&&($(".header .cart").removeClass("active"),$(".header .cart .cart-content").css("display","none"),$(".header .cart .cart-content .title").after(function(){return'<p class="empty">Корзина пуста</div>'})),cart_amount_items(),cart_all_sum()})}function cart_amount_items(){var e=$(".header .cart .cart-content"),t=0;e.find(".item").each(function(){t+=parseFloat($(this).find(".amount .value").text())}),e.parent().find(".icon").attr("data-label",t)}function cart_all_sum(){var e=0;$(".header .cart .cart-content").find(".item").each(function(){e+=parseFloat($(this).find(".item-price").text().replace(" ",""))*$(this).find(".amount .value").text()}),$(".cart .cart-content__footer .resume .sum").text(e+" руб.")}function product_slider_correct_thumb(){var e=0;$(".slider-block .slider-gallery li").each(function(){$(this).hasClass("circle")&&$(".slider-block .lSPager li:nth-child("+e+")").addClass("circle"),e++})}function product_accordion_button(){if(currentWidthWindow>=tabletSize){var e=$(".product-page .tabs .tab:first"),t=e.parent().css("height"),a=30;e.find(".accordion:first").addClass("active"),e.find(".content-accordion:first").css("display","flex"),e.parent().css("height",Number.parseFloat(e.find(".content-accordion:first").css("height"))+Number.parseFloat(t)+a);for(var i=0;i<4;i++)e.css("height",t),e=e.next()}$(".product-page .tabs .tab").click(function(){var e=$(this).find(".accordion"),i=0;if(e.hasClass("active"))e.removeClass("active"),e.next().css("display","none"),currentWidthWindow>=tabletSize&&$(this).parent().css("height",t);else{if(currentWidthWindow>=tabletSize){var c=$(".product-page .tabs .tab");c.parent().css("height",t);for(var n=0;n<3;n++)c.find(".accordion").removeClass("active"),c.find(".content-accordion").css("display","none"),c=c.next()}e.addClass("active"),e.next().css("display","flex"),currentWidthWindow>=tabletSize&&(i=e.next().css("height"),$(this).parent().css("height",Number.parseFloat(i)+Number.parseFloat(t)+a))}})}function product_items_fix_jump(){var e=0,t=0;$(".content").find(".product-items").each(function(){$(this).hasClass("with-options")||$(this).hasClass("short-list")||$(this).find(".product-item").each(function(){t=Number.parseFloat($(this).css("height")),e<t?(e=t,$(this).css("height",e)):e==t&&$(this).css("height",e)})})}function select_button(){function e(e,t){return new RegExp("\\b"+t+"\\b").test(e.className)}function t(t,a,i){var c=t.className;t.className=e(t,a)?c.replace(a,i):c.replace(i,a)}function a(t,a){e(t,a)||(t.className+=""==t.className?a:" "+a)}if(document.getElementById||document.createTextNode){for(var i=0,c=new Array,n=document.getElementsByTagName("select"),s=0;s<n.length;s++)if(e(n[s],"turnintodropdown_demo2")){var o=document.createElement("input");o.name=n[s].name,o.type="hidden",o.id=n[s].id,o.value=n[s].options[0].value,n[s].parentNode.insertBefore(o,n[s]);var r=document.createElement("a");a(r,"select--title"),r.href="#",r.onclick=function(){return t(this.parentNode.getElementsByTagName("ul")[0],"dropdownhidden_demo2","dropdownvisible_demo2"),!1},r.appendChild(document.createTextNode(n[s].options[0].text)),n[s].parentNode.insertBefore(r,n[s]);for(var l=document.createElement("ul"),d=0;d<n[s].getElementsByTagName("option").length;d++){var u=document.createElement("li"),h=document.createElement("a");u.v=n[s].getElementsByTagName("option")[d].value,u.elm=o,u.istrigger=r,h.href="#",h.appendChild(document.createTextNode(n[s].getElementsByTagName("option")[d].text)),u.onclick=function(){return this.elm.value=this.v,t(this.istrigger,"select--title active","select--title"),t(this.parentNode,"dropdownvisible_demo2","dropdownhidden_demo2"),this.istrigger.firstChild.nodeValue=this.firstChild.firstChild.nodeValue,!1},u.appendChild(h),l.appendChild(u)}a(l,"dropdownhidden_demo2");var m=document.createElement("div");m.appendChild(l),a(m,"select--body"),n[s].parentNode.insertBefore(m,n[s]),c[i]=n[s],i++}for(var p=document.getElementsByTagName("ul"),s=0;s<p.length;s++)if(e(p[s],"turnintoselect_demo2")){var f=document.createElement("form"),v=document.createElement("select");for(d=0;d<p[s].getElementsByTagName("a").length;d++){var _=document.createElement("option");_.value=p[s].getElementsByTagName("a")[d].href,_.appendChild(document.createTextNode(p[s].getElementsByTagName("a")[d].innerHTML)),v.appendChild(_)}v.onchange=function(){window.location=this.options[this.selectedIndex].value},f.appendChild(v),p[s].parentNode.insertBefore(f,p[s]),c[i]=p[s],i++}for(s=0;s<i;s++)c[s].parentNode.removeChild(c[s]);$(".select--title").click(function(){$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active")})}}function compareTableFixHeight(){$(".compare-table-body .product-item");var e,t=0,a=[];$(".compare-table-aside-parameters").find(".compare-table-aside-parameters__parameter-name").each(function(){compare_table_amount_elements++,a.push(parseFloat($(this).css("height")))}),$(".compare-table-body").find(".product-item").each(function(){compare_table_amount_items++}),$(".compare-table-body").find(".product-item").each(function(){var i=0;e=$(this).find(".product-item-title").css("height"),parseFloat(e)>t&&(t=parseFloat(e)),$(this).find(".product-item-info-block").each(function(){e=$(this).css("height"),parseFloat(e)>a[i]&&(a[i]=parseFloat(e)),i++})}),$(".compare-table-body").find(".product-item").each(function(){var e=0;$(this).find(".product-item-title").css("height",t),$(this).find(".product-item-info-block").each(function(){$(this).css("height",a[e]),e++})});var i=0;$(".compare-table-aside-parameters").find(".compare-table-aside-parameters__parameter-name").each(function(){$(this).css("height",a[i]),i++})}function compareTableParametersDiff(){for(var e=[],t=$(".compare-table-aside-buttons__difference"),a=$(".compare-table-aside-buttons__all-parameters"),i=1;i<compare_table_amount_elements;i++)for(var c=$(".compare-table-body").find(".owl-item:nth-child(1) .product-item-info-block:nth-child("+i+")").text(),n=2;n<compare_table_amount_items&&c==$(".compare-table-body").find(".owl-item:nth-child("+n+") .product-item-info-block:nth-child("+i+")").text();n++)n==compare_table_amount_items-1&&e.push(i);t.click(function(){$.each(e,function(e,t){$(".compare-table-body").find(".owl-item").each(function(){$(this).find(".product-item-info-block:nth-child("+t+")").addClass("identical-items")}),$(".compare-table-aside-parameters .compare-table-aside-parameters__parameter-name:nth-child("+t+")").addClass("identical-items")}),t.addClass("active"),a.removeClass("active")}),a.click(function(){$.each(e,function(e,t){$(".compare-table-body").find(".owl-item").each(function(){$(this).find(".product-item-info-block:nth-child("+t+")").removeClass("identical-items")}),$(".compare-table-aside-parameters .compare-table-aside-parameters__parameter-name:nth-child("+t+")").removeClass("identical-items")}),t.removeClass("active"),a.addClass("active")})}var currentWidthWindow=document.documentElement.clientWidth,tabletSize=768,desktopSize=1024,widthColumn=360,currentScrollPosition=0,compare_table_amount_elements=0,compare_table_amount_items=0;$(document).ready(function(e){menu_gamburger(),show_search_form(),menu_all_products(),cart_button(),cart_change_value(),cart_remove_item(),cart_amount_items(),cart_all_sum(),select_button(),product_items_fix_jump(),catalog_accordion_button(),catalog_accordion_remove_excess_button(),filters_button_mobile(),preset_button_catalog(),view_mode_catalog(),sort_mode_catalog(),product_accordion_button(),product_slider_correct_thumb(),compareTableFixHeight(),compareTableParametersDiff()});